# SmartRacket Coach：統一終極參考文檔（繁體中文版）

讓每一次揮拍，都有數據相伴；讓每一次學習，都能被看見與改變。

---

## 目錄（8 大章節）
1. 設計初衷與個人經歷  
2. 技術選型思考與架構決策  
3. 硬體架構與設計演進  
4. 軟體開發與應用系統  
5. 特色功能：高光一刻  
6. 系統整合、使用者影響與應用擴展  
7. 未來展望與發展路徑  
8. 總結與行動號召  

附錄A：可直接轉為幻燈片的表格與圖表清單  
附錄B：GenSparkPPT 轉換建議（可選）

---

## 1. 設計初衷與個人經歷

### 1.1 我的起點：被「數據缺失」打敗的學習曲線
乒乓球場上的每一次揮拍，對我來說都是一段與自己對話的過程。作為 VTC 青年學院 AI 與機械人課程二年級學生，我曾經反覆看訓練影片、逐幀尋找失誤原因——卻總在最佳修正時機溜走後，才慢慢理解錯在何處。缺少即時量化回饋，讓肌肉記憶不斷固化錯誤，進步速度被拉慢。

我開始問自己：能不能讓球拍「說話」？讓它在我揮拍的當下，直接告訴我力度、角度、速度是否達標。

### 1.2 技術思考過程：為何選擇「球拍傳感器」
我走過三條路：
- 手機視覺系統：對場地、光線、背景高度敏感，部署複雜；
- 手腕 IMU：資訊間接、與拍面不同步；
- 球拍內嵌傳感器：直接測量拍體動作、環境依賴低、隱私友好。

結果很明確——要實現可持續、可複用的訓練數據閉環，「球拍傳感器」是 MVP 最優選。

### 1.3 MVP 的曲折與成長
- 第一代：micro:bit + MIT App Inventor，只為驗證數據流通；算力、藍牙穩定性均受限。
- 結構教訓：早期未做重心與耐久測試，手感「怪怪的」。我改走 CNC 精準開孔方案，在拍柄後端中心內嵌模組，多次失敗之後才找到穩定的尺寸與加工路徑。
- 第二代：升級至 Seeed Studio XIAO ESP32‑C3 Mini，資料流、連線穩定性與續航全面提升，首次感覺「原型真的能用」。

### 1.4 關鍵洞察（本專案的設計本質）
設計的核心，不是把動作做得多華麗，而是重建「動作 ⇄ 結果」的即時因果關聯，讓學習者在當下就能做出正確修正。

### 1.5 架構比較（決策依據）
| 方案 | 數據精度 | 隱私/合規 | 環境依賴 | 成本 | 綜合評估 |
|---|---|---|---|---|---|
| 手機視覺系統 | 高（可捕捉全身） | 需錄影，敏感 | 高（光線/背景/機位） | 高 | 不利於日常訓練 |
| 手腕 IMU | 中（間接推斷） | 佳 | 中（與拍面不同步） | 中 | 當作輔助資料 |
| 球拍傳感器（選定） | 高（直測拍體） | 佳（動作數據為主） | 低 | 低~中 | MVP 最優解 |

> 人機協作定位：AI 量化與追蹤，教練負責策略指導，學習者持續實作與反饋。

---

## 2. 技術選型思考與架構決策

### 2.1 設計原則
- 低侵入性：不影響球拍性能與手感；
- 本地優先：邊緣/手機端閉環運行；
- 可負擔：控制硬體成本，普惠應用；
- 可量產：機構簡潔、加工友善；
- 人機協作：輔助而非取代教練。

### 2.2 MVP 架構與混合計算邏輯
- 邊緣端（球拍模組）：高頻穩定採集、初步濾波、時間戳封裝、BLE 低功耗傳輸；
- 移動端（Android 原生 App）：特徵工程、決策樹/輕量 CNN 推論、視覺化與訓練日誌；
- 可選雲端（暫不啟用）：商業化後期再引入協作分析與跨裝置同步。

### 2.3 系統三層概念圖
- 參考圖：`system_architecture.png`

---

## 3. 硬體架構與設計演進

### 3.1 代際演進（重點差異）
| 指標 | Micro:bit（原型） | ESP32‑C3 Mini（現行） |
|---|---|---|
| 採樣頻率 | 50 Hz | 最高可至 200 Hz（目標值） |
| 計算/連線 | 受限 | 藍牙 5.0、計算與內存充裕 |
| 延遲體感 | 偏高 | 穩定的即時回饋級 |
| 續航 | 低 | 可長時訓練（依功耗策略） |

（說明：數值以等級與體感表述為主，避免過度強調單點指標。）

### 3.2 核心元件與分工
- 主控：Seeed Studio XIAO ESP32‑C3 Mini；
- IMU：MPU‑6050（6 軸，陀螺儀 + 加速度計）；
- 通信：BLE 5.0 GATT，封包聚合、低功耗；
- 分工：邊緣端負責高頻採集與預處理；模型推論在手機端，便於快速迭代。

### 3.3 電源與續航
- 主電池：紐扣電池；
- 典型使用：主動訓練可維持長時段、待機可達多月；
- 能源策略：睡眠/喚醒（揮拍/按鍵）+ 間歇傳輸；
- 後續可研：超級電容 + 無線充電（Phase 2）。

### 3.4 安裝與結構
- 方案：在拍柄後端中心 CNC 精準鑽孔與開槽，模組內嵌；
- 目的：維持原生手感、降低慣性改變、提升結構穩定；
- 註：早期 3D 列印外殼僅為原型路線，已棄用。

### 3.5 挑戰與對策（精煉版）
- 平衡與舒適性：選擇靠近手腕位置、提供磁吸/魔術貼/夾具三種固定方式；
- 位置敏感性：提供安裝指引與校準流程；
- 類別覆蓋：逐步擴充資料集，評估引入 TensorFlow Lite 輕量 CNN；
- 續航：以行前充電 + 可升級電池容量兼顧。

---

## 4. 軟體開發與應用系統

### 4.1 平台策略與語言
- 主平台：Android Studio 原生開發（優化三星裝置生態）；
- 備選：MIT App Inventor（進度緊時做功能驗證）；
- 語言：以 Kotlin 為先，評估 Jetpack Compose 精簡 UI。

### 4.2 混合計算工作流（邊緣 + 移動）
- 邊緣端：時間同步、初步濾波、資料壓縮、藍牙封包；
- 手機端：特徵抽取（8→可擴展 12 參數）、決策樹推論、品質評分；
- 優勢：模型升級無需重刷韌體；可運行較複雜特徵；降低端側記憶體壓力、延長續航。

### 4.3 通信協議（摘要）
- BLE 5.0 GATT：低延遲穩定包流、支援多客戶端、能耗友善；
- 數據打包：TLV（Type‑Length‑Value），支援批量與壓縮；
- 備援：抗丟包重傳、延遲控制於即時交互級。

### 4.4 機器學習模型（邏輯）
- 部署：決策樹（約 50 KB）於 Android 端；
- 特徵：峰值角速度、線加速度、動作時長、一致性、穩定度、變化率、重複性、能量等；
- 表現：初始約 65%，個人化校準可望提升至 ~85%（以實用為先，不過度強調單點分數）；
- 運行：完全離線、邊緣/手機閉環。

### 4.5 App 功能（使用者視角）
- 即時數據可視化：分數、動作分類、趨勢；
- 快速回饋提示：動作完成後迅速呈現片段評分；
- 訓練日誌：每日擊球量、平均分、類別分布；
- 進度追蹤：週/月趨勢與里程碑。

### 4.6 流程圖（特徵工程到結果）
- 參考圖：`feature_pipeline.png`

---

## 5. 特色功能：高光一刻

### 5.1 靈感
受 NVIDIA Instant Replay 啟發，將循環錄影與邊緣檢測結合，隨時鎖定「那一拍」。

### 5.2 技術方案
- 視頻循環錄製：例如 720p/30fps，緩衝區維持最近數分鐘；
- 觸發方式：拍柄物理按鍵或 App 遠端觸發；
- 保存流程：觸發後將緩衝片段寫入存儲，操作迅速，降低編輯成本。

### 5.3 使用體驗
- 大幅節省剪輯時間與存儲空間；
- 錄像與數據事件串接，便於精準複盤。

---

## 6. 系統整合、使用者影響與應用擴展

### 6.1 系統整合
- Galaxy Watch 生理數據：心率、步數、卡路里；
- 使用者分層體驗：
  - 業餘愛好者：遊戲化目標、簡潔的進度追蹤；
  - 校隊選手：動作精準評分、長期趨勢、教練協同監看；
- 無障礙：多語言、快速回饋、震動輔助、場景自適應。

### 6.2 使用者影響（對學校/球館/個人）
- 數據驅動訓練管理：可匯出 CSV、辨識弱點、制定個別化計畫；
- 可負擔性：單套硬體成本可控制在入門級區間，適用學校、社區、家庭；
- 創新突破：邊緣 AI + 低成本 IMU 的結合，面向學生與業餘選手的量化訓練系統。

### 6.3 應用場景擴展（範例清單）
- 其他球拍運動：網球、羽毛球、壁球（調整安裝與重新標註）；
- 康復醫療：上肢精細動作追蹤、中風/術後漸進訓練；
- 體育教育：技能評估儀表板，建立可視化成長檔案；
- 個人居家訓練：配發球機/簡易支架，形成「短時高效率」練習模組；
- 視頻動作分析輔助：以傳感器事件觸發補拍與標註，降低剪輯成本。

> 場景不是羅列，而是「量化 → 反饋 → 自適應」的服務網。

---

## 7. 未來展望與發展路徑

### 7.1 傳感器擴展計劃（Phase 2）
- IMU 升級：評估九軸（含磁力計）以增強旋轉方向穩健性；
- 其他候選：握力/壓力、溫度、微型氣壓等；
- 取捨原則：先把核心體驗打磨到位，再分層疊加多模態。

### 7.2 商業化潛力（摘要）
- 目標市場：香港校隊、業餘隊伍、球館；
- 定價與成本：以普惠為導向，逐步優化 BOM 與製造流程；
- 增值服務：雲端教練平台、多球員對戰、個人化課程。

### 7.3 開源與人機協作
- GitHub 計劃：硬體設計、韌體、模型、App 同步開源；
- 角色分工：AI 量化分析 + 教練策略 + 運動員實作，形成互補閉環。

### 7.4 邊緣優先（隱私敘事淡化版）
- 本地推論、離線可用、低延遲互動；
- 用戶數據優先留存在設備端，雲端僅作選配增值。

### 7.5 時程規劃（示例）
- 3–6 個月：傳感器精度優化、與 Galaxy Watch 深度整合；
- 6–12 個月：教練平台上線、品牌合作試點；
- 1–2 年：擴展至其他球類、形成完整智能運動生態。

---

## 8. 總結與行動號召

### 8.1 核心創新
邊緣運算 + 低成本 IMU，打造面向學生與業餘選手的量化揮拍訓練系統；硬體嵌入 + 移動端推論，實現可持續、可擴展、可負擔的學習閉環。

### 8.2 目前成效（摘要）
- 即時分類與品質評分可支撐日常訓練決策；
- 高光功能顯著減少剪輯時間與儲存成本；
- 與穿戴裝置資料融合，支持多維訓練觀測。

（精度數字保留於技術文件，這裡以「實用、即時、可迭代」為主軸。）

### 8.3 下一步
1) 小批量試產與實地 A/B 測試；  
2) 收集反饋，優化模型與機構；  
3) 強化三星生態整合；  
4) 成本與製造工藝優化；  
5) 建立開源社群，持續共創。

### 8.4 願景
把高品質訓練民主化，讓每一位學習者，不論資源多寡，都能擁有自己的數據教練。

— SmartRacket Coach

---

## 附錄A｜可直接轉為幻燈片的表格與圖表清單
- 表：三方案架構比較（1.5 節）
- 表：硬體代際演進（3.1 節）
- 流程圖：特徵工程到結果（4.6 節，`feature_pipeline.png`）
- 架構圖：系統層級示意（2.3 節，`system_architecture.png`）

## 附錄B｜GenSparkPPT 轉換建議（可選）
- 以章節為單位切分，每節 2–4 張幻燈片；
- 首段使用第一人稱敘事做引入，強化情感連結；
- 中段以流程/表格為要點，利於一鍵生成圖表；
- 末段以「行動號召 + 路線圖」收束，便於演說節奏掌控；
- 全文已為繁體中文，術語一致，可直接投產。
